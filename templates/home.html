<html>
<head>
</head>
<body>
<form action="/post" method="POST">
	<h1>Welcome {{username}}</h1>
	<h3>Add a Post:</h3>
		Post Name <input type="text" name = "item_name" required/> <br>
        Location &nbsp&nbsp&nbsp<input type="text" name = "location" /> <br>
        File Path &nbsp&nbsp&nbsp<input type="text" name = "file_path" /> <br>
        <input id="is_not_pub" type="checkbox" name="is_private" value="1" onchange="showDiv(this);"> Make Private? <br>
        <input id="is_pub" type='hidden' value='0' name='is_private'>
		<div id="friendgroup"> </div> <br>
		<input type="submit" value = Post />

</form>

<script>
	function showDiv(obj) {
    debugger
    if (obj.checked) {
        document.getElementById('friendgroup').innerHTML = '<input type="text" id="friend_group" placeholder="Enter a FriendGroup Name" name = "friend_group" required/>';
        }
        else {
            document.getElementById('friendgroup').innerHTML = '';
        }
    }
</script>

<style type="text/css">
	table {
    border-collapse: collapse;
    width: 50%;
    }

    th, td {
    text-align: left;
    padding: 8px;
    }

    tr:nth-child(even){background-color: #f2f2f2}

    th {
    background-color: #2313C7;
    color: white;
    }
</style>

<h3>Public Posts:</h3>
<form action="/post" method="GET">
	<input type="radio" value = "publicView"> Public view
    <input type="radio" value = "privateView"> Private view
</form>

<table>
	<th>item_id</th>
	<th>email_post</th>
	<th>post_time</th>
	<th>file_path</th>
	<th>item_name</th>
    <th>location</th>

{% for line in posts %}
	<tr>
		<form action="/tag" method="POST">
		<td>{{line.item_id}}</td>
		<td>{{line.email_post}}</td>
		<td>{{line.post_time}}</td>
		<td>{{line.file_path}}</td>
		<td>{{line.item_name}}</td>
        <td>{{line.location}}</td>
		<td> <div id="tagBox"> <input type="text" id="tagged" placeholder="Enter a Person to tag" name = "tagged" required/> <input type="hidden" class="form-control" name="item_id" value="{{line.item_id}}"> </div> <input type="submit" value = Tag /> </td>
		{% if error %}
			<p class="error"><strong>Error:</strong> {{error1}}</p>
		{% endif %}
		</form>

	</tr>
{% endfor %}
</table>
<form action="/addGroup" method="POST">
<h3> Create a Friend Group</h3>
<input type="text" id="friend_group" placeholder="Enter a new Group Name" name = "group_name" required/><br>
<input type="text" id="friend_group" placeholder="Give a description" name = "description"><br>
<input type="submit" value = Create />
</form>
<br>
<a href="/tagPage">My Tags</a> <br>
<a href="/logout">Logout</a>
<br>
</body>
</html>
